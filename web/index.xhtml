<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Sistema de Controle de Veículos</title>
    </h:head>
    <h:body>
        
        <div class="jumbotron"  align="center">
            <h1>Sistema de Controle de Veículos</h1>
            <p>Um Sistema desenvolvido para Cadastro e Controle do Estacionamento do Campus Restinga - IFRS</p>

            <h:form enctype="multipart/form-data">

                <p:button value="Usuários" style="margin-left:10px;margin-right:10px" outcome="usuarios"/>

                <p:button value="Veículos" style="margin-left:10px;margin-right:10px" outcome="incluirVeiculo"/>

                <p:button value="Veículos Não Cadastrados" style="margin-left:10px;margin-right:10px" outcome="incluirUsuario"/>
                
                <p:commandButton value="Enviar CSV Alunos" ajax="false" action="#{sisEstacionamentoBean.lerCSVAlunos()}" style="margin-right:20px;"/>
                
                <p:commandButton value="Enviar CSV Servidores" ajax="false" action="#{sisEstacionamentoBean.lerCSVServidores()}" style="margin-right:20px;"/>
                                
                
                
            
                 
            </h:form>
            
            <h:form>   
                <p:growl id="growl" />

                <h3 style="margin-top:0">Client ProgressBar</h3>
                <p:commandButton value="Start" action="#{sisEstacionamentoBean.lerCSVServidores()}" id="start" type="button" onclick="start()" widgetVar="startButton1"/>
                <p:commandButton value="Cancel" id="cancel" type="button" onclick="cancel()" />
                <br /><br />
                <p:progressBar id="progressBarClient" widgetVar="pbClient" style="width:300px"/>

            </h:form>
 
            <style tyle="text/css">
                .animated .ui-progressbar-value { 
                    background-image: url("/showcase/javax.faces.resource/demo/images/pbar-ani.gif.xhtml"); 
                }
            </style>

            <script type="text/javascript">
            function start() {
                #{sisEstacionamentoBean.lerCSVServidores()}
                PF('startButton1').disable();

                window['progress'] = setInterval(function() {
                    var pbClient = PF('pbClient'),
                    oldValue = pbClient.getValue(),
                    newValue = oldValue + 10;

                    pbClient.setValue(pbClient.getValue() + 10);

                    if(newValue === 100) {
                        clearInterval(window['progress']);
                    }


                }, 1000);
            }

            function cancel() {
                clearInterval(window['progress']);
                PF('pbClient').setValue(0);
                PF('startButton1').enable();
            }
            </script>

           
            <br></br>
        </div>
        
        <div class="container">
            <div class="footer">
                <footer class="container-fluid text-center">
                  <p> Sérgio Gambarra da Silva</p>
                   <p>
                   Este sistema foi desenvolvido na disciplina de Trabalho de Conclusão de Curso de Análise e Desenvolvimento de Sistemas do Campus Restinga do IFRS.
                  </p>
                </footer>
            </div> 
        </div> 
    </h:body>
</html>

