<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition template="templates/padrao.xhtml">
        <ui:define name="conteudo">
    <h:head>
        <title>Sistema de Controle de Veículos</title>
    </h:head>
    <h:body>
        
        <div class="jumbotron"  align="center">
            <h1>Sistema de Controle de Veículos</h1>
            <p>Um Sistema desenvolvido para Cadastro e Controle do Estacionamento do Campus Restinga - IFRS</p>

            <h:form enctype="multipart/form-data">
                 <p:growl id="growl" />

                <p:button class="btn btn-primary btn-lg" value="Usuários" style="margin-left:10px;margin-right:10px" outcome="usuarios"/>
                
                <p:button value="Veículos" style="margin-left:10px;margin-right:10px" outcome="incluirVeiculo"/>

                <p:button value="Veículos Não Cadastrados" style="margin-left:10px;margin-right:10px" outcome="incluirUsuario"/>
                
                <p:commandButton value="Enviar CSV Alunos" onclick="PF('pbAjax').start();PF('startButton2').disable();" widgetVar="startButton2" action="#{sisEstacionamentoBean.lerCSVAlunos()}" style="margin-right:20px;"/>
                
                <p:commandButton value="Enviar CSV Servidores" onclick="PF('pbAjax').start();PF('startButton2').disable();" widgetVar="startButton2" action="#{sisEstacionamentoBean.lerCSVServidores()}" style="margin-right:20px;"/>
                
                
                <br /><br />
                <p:progressBar widgetVar="pbAjax" style="width:300px" ajax="true" value="#{sisEstacionamentoBean.progress}" labelTemplate="{value}%" global="false">
                    <p:ajax event="complete" listener="#{sisEstacionamentoBean.onComplete}" update="growl" oncomplete="PF('startButton2').enable()"/>
                </p:progressBar>
                                
               
                
            
                 
            </h:form>
            
           
 
            <style tyle="text/css">
                .animated .ui-progressbar-value { 
                    background-image: url("/showcase/javax.faces.resource/demo/images/pbar-ani.gif.xhtml"); 
                }
            </style>

            <script type="text/javascript">
            function start() {
                PF('startButton1').disable();

                window['progress'] = setInterval(function() {
                    var pbClient = PF('pbClient'),
                    oldValue = pbClient.getValue(),
                    newValue = oldValue + 10;

                    pbClient.setValue(pbClient.getValue() + 10);

                    if(newValue === 100) {
                        clearInterval(window['progress']);
                    }


                }, 1000);
            }
            </script>

           
            <br></br>
        </div>
        
        <div class="container">
            <div class="footer">
                <footer class="container-fluid text-center">
                  <p> Sérgio Gambarra da Silva</p>
                   <p>
                   Este sistema foi desenvolvido na disciplina de Trabalho de Conclusão de Curso de Análise e Desenvolvimento de Sistemas do Campus Restinga do IFRS.
                  </p>
                </footer>
            </div> 
        </div> 
    </h:body>
            </ui:define>
        </ui:composition>
</html>

